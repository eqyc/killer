{
  "swagger": "2.0",
  "info": {
    "title": "commercial/field_service/v1/field_service.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "FieldService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1-field_service/assigntechnician": {
      "post": {
        "summary": "分配技术人员",
        "operationId": "FieldService_AssignTechnician",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1AssignTechnicianResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "FieldService"
        ]
      }
    },
    "/v1-field_service/serviceorder": {
      "post": {
        "summary": "获取服务订单",
        "operationId": "FieldService_GetServiceOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetServiceOrderResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "FieldService"
        ]
      }
    },
    "/v1-field_service/serviceorders": {
      "post": {
        "summary": "查询服务订单列表",
        "operationId": "FieldService_ListServiceOrders",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListServiceOrdersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "FieldService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1Address": {
      "type": "object",
      "properties": {
        "countryCode": {
          "type": "string",
          "title": "国家代码，对应LAND1"
        },
        "province": {
          "type": "string",
          "title": "省/州，对应REGIO"
        },
        "city": {
          "type": "string",
          "title": "城市，对应ORT01"
        },
        "district": {
          "type": "string",
          "title": "区/县，对应ORT02"
        },
        "street": {
          "type": "string",
          "title": "街道地址，对应STRAS"
        },
        "postalCode": {
          "type": "string",
          "title": "邮政编码，对应PSTLZ"
        }
      },
      "title": "=============================================================================\nAddress - 地址\n=============================================================================\n对应ERP地址表ADRC相关字段"
    },
    "v1AssignTechnicianResponse": {
      "type": "object",
      "properties": {
        "serviceOrder": {
          "$ref": "#/definitions/v1ServiceOrder",
          "title": "更新后的服务订单"
        }
      },
      "title": "分配技术人员响应"
    },
    "v1AuditInfo": {
      "type": "object",
      "properties": {
        "createdBy": {
          "type": "string",
          "title": "创建人，对应ERNAM/USNAM"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "title": "创建时间，对应ERDAT/ERTIM"
        },
        "updatedBy": {
          "type": "string",
          "title": "最后修改人，对应AENAM"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "title": "最后修改时间，对应AEDAT/AETIM"
        }
      },
      "title": "=============================================================================\nAuditInfo - 审计信息\n=============================================================================\n对应ERP变更文档表CDHDR/CDPOS相关字段"
    },
    "v1CreateServiceOrderResponse": {
      "type": "object",
      "properties": {
        "serviceOrder": {
          "$ref": "#/definitions/v1ServiceOrder",
          "title": "创建的服务订单"
        }
      },
      "title": "创建服务订单响应"
    },
    "v1GetServiceOrderResponse": {
      "type": "object",
      "properties": {
        "serviceOrder": {
          "$ref": "#/definitions/v1ServiceOrder",
          "title": "服务订单"
        }
      },
      "title": "获取服务订单响应"
    },
    "v1ListServiceOrdersResponse": {
      "type": "object",
      "properties": {
        "serviceOrders": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1ServiceOrder"
          },
          "title": "服务订单列表"
        },
        "pageInfo": {
          "$ref": "#/definitions/v1PageInfo",
          "title": "分页信息"
        }
      },
      "title": "查询服务订单列表响应"
    },
    "v1Money": {
      "type": "object",
      "properties": {
        "currencyCode": {
          "type": "string",
          "title": "ISO 4217 货币代码 (CNY, USD, EUR)，对应WAERS字段"
        },
        "amount": {
          "type": "string",
          "title": "金额值，使用字符串表示以保持精度"
        },
        "scale": {
          "type": "integer",
          "format": "int32",
          "title": "小数位数"
        }
      },
      "title": "=============================================================================\nMoney - 货币金额\n=============================================================================\n对应ERP字段: WRBTR/DMBTR/NETWR等金额字段\n使用string避免浮点精度问题，符合财务计算要求"
    },
    "v1PRIORITY": {
      "type": "string",
      "enum": [
        "PRIORITY_UNSPECIFIED",
        "PRIORITY_URGENT",
        "PRIORITY_HIGH",
        "PRIORITY_MEDIUM",
        "PRIORITY_LOW"
      ],
      "default": "PRIORITY_UNSPECIFIED",
      "description": "- PRIORITY_UNSPECIFIED: 未指定\n - PRIORITY_URGENT: 紧急\n - PRIORITY_HIGH: 高\n - PRIORITY_MEDIUM: 中\n - PRIORITY_LOW: 低",
      "title": "=============================================================================\nPRIORITY - 优先级枚举\n============================================================================="
    },
    "v1PageInfo": {
      "type": "object",
      "properties": {
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "总记录数"
        },
        "totalPages": {
          "type": "integer",
          "format": "int32",
          "title": "总页数"
        },
        "currentPage": {
          "type": "integer",
          "format": "int32",
          "title": "当前页码"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "每页大小"
        },
        "hasNext": {
          "type": "boolean",
          "title": "是否有下一页"
        },
        "hasPrevious": {
          "type": "boolean",
          "title": "是否有上一页"
        }
      },
      "title": "=============================================================================\nPageInfo - 分页信息\n============================================================================="
    },
    "v1PageRequest": {
      "type": "object",
      "properties": {
        "pageNumber": {
          "type": "integer",
          "format": "int32",
          "title": "页码（从1开始）"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "每页大小（默认20，最大100）"
        },
        "sortBy": {
          "type": "string",
          "title": "排序字段名"
        },
        "sortOrder": {
          "$ref": "#/definitions/v1SortOrder",
          "title": "排序方向"
        }
      },
      "title": "=============================================================================\nPageRequest - 分页请求（偏移量方式）\n============================================================================="
    },
    "v1Quantity": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "title": "数量值"
        },
        "unit": {
          "type": "string",
          "title": "计量单位，对应MEINS/VRKME等单位字段"
        }
      },
      "title": "=============================================================================\nQuantity - 数量\n=============================================================================\n对应ERP字段: MENGE/GAMNG/LFIMG等数量字段"
    },
    "v1ServiceOrder": {
      "type": "object",
      "properties": {
        "SERVICEORDERID": {
          "type": "string",
          "title": "服务订单标识"
        },
        "ORDERTYPE": {
          "type": "string",
          "title": "服务订单类型"
        },
        "EQUIPMENTID": {
          "type": "string",
          "title": "设备标识，对应EQUNR"
        },
        "FUNCLOCATION": {
          "type": "string",
          "title": "功能位置，对应TPLNR"
        },
        "DESCRIPTION": {
          "type": "string",
          "title": "描述"
        },
        "PRIORITY": {
          "$ref": "#/definitions/v1PRIORITY",
          "title": "优先级"
        },
        "KUNNR": {
          "type": "string",
          "title": "客户编号，对应KUNNR"
        },
        "CUSTOMERNAME": {
          "type": "string",
          "title": "客户名称"
        },
        "CONTACTPHONE": {
          "type": "string",
          "title": "联系电话"
        },
        "SERVICEADDRESS": {
          "$ref": "#/definitions/v1Address",
          "title": "服务地点"
        },
        "SCHEDULEDDATE": {
          "type": "string",
          "format": "date-time",
          "title": "计划服务日期"
        },
        "SCHEDULEDSTART": {
          "type": "string",
          "format": "date-time",
          "title": "预计开始时间"
        },
        "SCHEDULEDEND": {
          "type": "string",
          "format": "date-time",
          "title": "预计结束时间"
        },
        "ACTUALSTART": {
          "type": "string",
          "format": "date-time",
          "title": "实际开始时间"
        },
        "ACTUALEND": {
          "type": "string",
          "format": "date-time",
          "title": "实际结束时间"
        },
        "TECHNICIANID": {
          "type": "string",
          "title": "技术人员编号"
        },
        "TECHNICIANNAME": {
          "type": "string",
          "title": "技术人员姓名"
        },
        "ESTIMATEDCOST": {
          "$ref": "#/definitions/v1Money",
          "title": "预估费用"
        },
        "ACTUALCOST": {
          "$ref": "#/definitions/v1Money",
          "title": "实际费用"
        },
        "STATUS": {
          "type": "string",
          "title": "状态"
        },
        "LOEKZ": {
          "type": "string",
          "title": "删除标识"
        },
        "auditInfo": {
          "$ref": "#/definitions/v1AuditInfo",
          "title": "审计信息"
        },
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1ServiceOrderItem"
          },
          "title": "服务项目列表"
        }
      },
      "title": "=============================================================================\nServiceOrder - 服务订单（聚合根）\n=============================================================================\n参考ERP服务订单设计"
    },
    "v1ServiceOrderItem": {
      "type": "object",
      "properties": {
        "POSNR": {
          "type": "integer",
          "format": "int32",
          "title": "项目号"
        },
        "ITEMTYPE": {
          "type": "string",
          "title": "项目类型（人工/备件/其他）"
        },
        "MATERIALID": {
          "type": "string",
          "title": "物料/服务编号"
        },
        "DESCRIPTION": {
          "type": "string",
          "title": "描述"
        },
        "QUANTITY": {
          "$ref": "#/definitions/v1Quantity",
          "title": "数量"
        },
        "UOM": {
          "type": "string",
          "title": "单位"
        },
        "UNITPRICE": {
          "$ref": "#/definitions/v1Money",
          "title": "单价"
        },
        "TOTALPRICE": {
          "$ref": "#/definitions/v1Money",
          "title": "总价"
        },
        "CURRENCY": {
          "type": "string",
          "title": "货币代码"
        },
        "DURATION": {
          "$ref": "#/definitions/v1Quantity",
          "title": "工时（小时）"
        },
        "STATUS": {
          "type": "string",
          "title": "状态"
        },
        "NOTES": {
          "type": "string",
          "title": "备注"
        }
      },
      "title": "=============================================================================\nServiceOrderItem - 服务订单行项目\n============================================================================="
    },
    "v1SortOrder": {
      "type": "string",
      "enum": [
        "SORT_ORDER_UNSPECIFIED",
        "SORT_ORDER_ASC",
        "SORT_ORDER_DESC"
      ],
      "default": "SORT_ORDER_UNSPECIFIED",
      "description": "- SORT_ORDER_UNSPECIFIED: 未指定\n - SORT_ORDER_ASC: 升序\n - SORT_ORDER_DESC: 降序",
      "title": "=============================================================================\nSortOrder - 排序方向\n============================================================================="
    }
  }
}
