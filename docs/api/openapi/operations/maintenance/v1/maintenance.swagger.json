{
  "swagger": "2.0",
  "info": {
    "title": "operations/maintenance/v1/maintenance.proto",
    "version": "version not set"
  },
  "tags": [
    {
      "name": "MaintenanceService"
    }
  ],
  "consumes": [
    "application/json"
  ],
  "produces": [
    "application/json"
  ],
  "paths": {
    "/v1-maintenance/maintenancenotification": {
      "post": {
        "summary": "创建维护通知",
        "operationId": "MaintenanceService_CreateMaintenanceNotification",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1CreateMaintenanceNotificationResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MaintenanceService"
        ]
      }
    },
    "/v1-maintenance/maintenanceorder": {
      "post": {
        "summary": "获取维护订单",
        "operationId": "MaintenanceService_GetMaintenanceOrder",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1GetMaintenanceOrderResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MaintenanceService"
        ]
      }
    },
    "/v1-maintenance/maintenanceorders": {
      "post": {
        "summary": "查询维护订单列表",
        "operationId": "MaintenanceService_ListMaintenanceOrders",
        "responses": {
          "200": {
            "description": "A successful response.",
            "schema": {
              "$ref": "#/definitions/v1ListMaintenanceOrdersResponse"
            }
          },
          "default": {
            "description": "An unexpected error response.",
            "schema": {
              "$ref": "#/definitions/rpcStatus"
            }
          }
        },
        "tags": [
          "MaintenanceService"
        ]
      }
    }
  },
  "definitions": {
    "protobufAny": {
      "type": "object",
      "properties": {
        "@type": {
          "type": "string"
        }
      },
      "additionalProperties": {}
    },
    "rpcStatus": {
      "type": "object",
      "properties": {
        "code": {
          "type": "integer",
          "format": "int32"
        },
        "message": {
          "type": "string"
        },
        "details": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/protobufAny"
          }
        }
      }
    },
    "v1AuditInfo": {
      "type": "object",
      "properties": {
        "createdBy": {
          "type": "string",
          "title": "创建人，对应ERNAM/USNAM"
        },
        "createdAt": {
          "type": "string",
          "format": "date-time",
          "title": "创建时间，对应ERDAT/ERTIM"
        },
        "updatedBy": {
          "type": "string",
          "title": "最后修改人，对应AENAM"
        },
        "updatedAt": {
          "type": "string",
          "format": "date-time",
          "title": "最后修改时间，对应AEDAT/AETIM"
        }
      },
      "title": "=============================================================================\nAuditInfo - 审计信息\n=============================================================================\n对应ERP变更文档表CDHDR/CDPOS相关字段"
    },
    "v1CreateMaintenanceNotificationResponse": {
      "type": "object",
      "properties": {
        "maintenanceNotification": {
          "$ref": "#/definitions/v1MaintenanceNotification",
          "title": "创建的维护通知"
        }
      },
      "title": "创建维护通知响应"
    },
    "v1CreateMaintenanceOrderResponse": {
      "type": "object",
      "properties": {
        "maintenanceOrder": {
          "$ref": "#/definitions/v1MaintenanceOrder",
          "title": "创建的维护订单"
        }
      },
      "title": "创建维护订单响应"
    },
    "v1GetMaintenanceOrderResponse": {
      "type": "object",
      "properties": {
        "maintenanceOrder": {
          "$ref": "#/definitions/v1MaintenanceOrder",
          "title": "维护订单"
        }
      },
      "title": "获取维护订单响应"
    },
    "v1ListMaintenanceOrdersResponse": {
      "type": "object",
      "properties": {
        "maintenanceOrders": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1MaintenanceOrder"
          },
          "title": "维护订单列表"
        },
        "pageInfo": {
          "$ref": "#/definitions/v1PageInfo",
          "title": "分页信息"
        }
      },
      "title": "查询维护订单列表响应"
    },
    "v1MaintenanceNotification": {
      "type": "object",
      "properties": {
        "QMNUM": {
          "type": "string",
          "title": "通知号，对应QMNUM"
        },
        "QMART": {
          "type": "string",
          "title": "通知类型，对应QMART"
        },
        "EQUNR": {
          "type": "string",
          "title": "设备号，对应EQUNR"
        },
        "TPLNR": {
          "type": "string",
          "title": "功能位置，对应TPLNR"
        },
        "PRIOK": {
          "$ref": "#/definitions/v1PRIOK",
          "title": "优先级，对应PRIOK"
        },
        "QMTXT": {
          "type": "string",
          "title": "描述，对应QMTXT"
        },
        "WERKS": {
          "type": "string",
          "title": "工厂，对应WERKS"
        },
        "ERDAT": {
          "type": "string",
          "format": "date-time",
          "title": "报告日期，对应ERDAT"
        },
        "AUSZT": {
          "type": "string",
          "format": "date-time",
          "title": "故障开始日期，对应AUSZT"
        },
        "INGPR": {
          "type": "string",
          "title": "计划员组，对应INGPR"
        },
        "AUFNR": {
          "type": "string",
          "title": "关联订单号，对应AUFNR"
        },
        "SUSTA": {
          "type": "string",
          "title": "系统状态，对应SUSTA"
        },
        "LOEKZ": {
          "type": "string",
          "title": "删除标识，对应LOEKZ"
        },
        "auditInfo": {
          "$ref": "#/definitions/v1AuditInfo",
          "title": "审计信息"
        }
      },
      "title": "=============================================================================\nMaintenanceNotification - 维护通知\n=============================================================================\n对应ERP系统核心表QMEL"
    },
    "v1MaintenanceOrder": {
      "type": "object",
      "properties": {
        "AUFNR": {
          "type": "string",
          "title": "维护订单号，对应AUFNR"
        },
        "AUART": {
          "type": "string",
          "title": "订单类型，对应AUART"
        },
        "EQUNR": {
          "type": "string",
          "title": "设备号，对应EQUNR"
        },
        "TPLNR": {
          "type": "string",
          "title": "功能位置，对应TPLNR"
        },
        "ILTYP": {
          "type": "string",
          "title": "维护计划类型，对应ILTYP"
        },
        "PRIOK": {
          "$ref": "#/definitions/v1PRIOK",
          "title": "优先级，对应PRIOK"
        },
        "INGPR": {
          "type": "string",
          "title": "计划员组，对应INGPR"
        },
        "GEWRK": {
          "type": "string",
          "title": "工作中心，对应GEWRK"
        },
        "GSTRP": {
          "type": "string",
          "format": "date-time",
          "title": "计划开始日期，对应GSTRP"
        },
        "GLTRP": {
          "type": "string",
          "format": "date-time",
          "title": "计划完成日期，对应GLTRP"
        },
        "GSTRS": {
          "type": "string",
          "format": "date-time",
          "title": "实际开始日期，对应GSTRS"
        },
        "GLTRS": {
          "type": "string",
          "format": "date-time",
          "title": "实际完成日期，对应GLTRS"
        },
        "WERKS": {
          "type": "string",
          "title": "工厂，对应WERKS"
        },
        "KOSTL": {
          "type": "string",
          "title": "成本中心，对应KOSTL"
        },
        "QMNUM": {
          "type": "string",
          "title": "通知号，对应QMNUM"
        },
        "SUSTA": {
          "type": "string",
          "title": "系统状态，对应SUSTA"
        },
        "LOEKZ": {
          "type": "string",
          "title": "删除标识，对应LOEKZ"
        },
        "auditInfo": {
          "$ref": "#/definitions/v1AuditInfo",
          "title": "审计信息"
        },
        "items": {
          "type": "array",
          "items": {
            "$ref": "#/definitions/v1MaintenanceOrderItem"
          },
          "title": "订单行项目（工序）"
        }
      },
      "title": "=============================================================================\nMaintenanceOrder - 维护订单（聚合根）\n=============================================================================\n对应ERP系统核心表AFIH（维护订单头）"
    },
    "v1MaintenanceOrderItem": {
      "type": "object",
      "properties": {
        "VORNR": {
          "type": "string",
          "title": "工序号，对应VORNR"
        },
        "ARBPL": {
          "type": "string",
          "title": "工作中心，对应ARBPL"
        },
        "STEUS": {
          "type": "string",
          "title": "控制码，对应STEUS"
        },
        "LTXA1": {
          "type": "string",
          "title": "描述，对应LTXA1"
        },
        "ARBEI": {
          "$ref": "#/definitions/v1Quantity",
          "title": "计划工时，对应ARBEI"
        },
        "ISMNW": {
          "$ref": "#/definitions/v1Quantity",
          "title": "实际工时，对应ISMNW"
        },
        "SSEDD": {
          "type": "string",
          "format": "date-time",
          "title": "计划开始日期，对应SSEDD"
        },
        "SSEDA": {
          "type": "string",
          "format": "date-time",
          "title": "计划完成日期，对应SSEDA"
        },
        "STATUS": {
          "type": "string",
          "title": "状态"
        },
        "LOEKZ": {
          "type": "string",
          "title": "删除标识"
        }
      },
      "title": "=============================================================================\nMaintenanceOrderItem - 维护订单行项目（工序）\n============================================================================="
    },
    "v1PRIOK": {
      "type": "string",
      "enum": [
        "PRIOK_UNSPECIFIED",
        "PRIOK_1",
        "PRIOK_2",
        "PRIOK_3",
        "PRIOK_4"
      ],
      "default": "PRIOK_UNSPECIFIED",
      "description": "- PRIOK_UNSPECIFIED: 未指定\n - PRIOK_1: 1 = 紧急\n - PRIOK_2: 2 = 高\n - PRIOK_3: 3 = 中\n - PRIOK_4: 4 = 低",
      "title": "=============================================================================\nPRIOK - 优先级枚举\n=============================================================================\n对应AFIH-PRIOK/QMEL-PRIOK字段"
    },
    "v1PageInfo": {
      "type": "object",
      "properties": {
        "totalCount": {
          "type": "integer",
          "format": "int32",
          "title": "总记录数"
        },
        "totalPages": {
          "type": "integer",
          "format": "int32",
          "title": "总页数"
        },
        "currentPage": {
          "type": "integer",
          "format": "int32",
          "title": "当前页码"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "每页大小"
        },
        "hasNext": {
          "type": "boolean",
          "title": "是否有下一页"
        },
        "hasPrevious": {
          "type": "boolean",
          "title": "是否有上一页"
        }
      },
      "title": "=============================================================================\nPageInfo - 分页信息\n============================================================================="
    },
    "v1PageRequest": {
      "type": "object",
      "properties": {
        "pageNumber": {
          "type": "integer",
          "format": "int32",
          "title": "页码（从1开始）"
        },
        "pageSize": {
          "type": "integer",
          "format": "int32",
          "title": "每页大小（默认20，最大100）"
        },
        "sortBy": {
          "type": "string",
          "title": "排序字段名"
        },
        "sortOrder": {
          "$ref": "#/definitions/v1SortOrder",
          "title": "排序方向"
        }
      },
      "title": "=============================================================================\nPageRequest - 分页请求（偏移量方式）\n============================================================================="
    },
    "v1Quantity": {
      "type": "object",
      "properties": {
        "value": {
          "type": "string",
          "title": "数量值"
        },
        "unit": {
          "type": "string",
          "title": "计量单位，对应MEINS/VRKME等单位字段"
        }
      },
      "title": "=============================================================================\nQuantity - 数量\n=============================================================================\n对应ERP字段: MENGE/GAMNG/LFIMG等数量字段"
    },
    "v1SortOrder": {
      "type": "string",
      "enum": [
        "SORT_ORDER_UNSPECIFIED",
        "SORT_ORDER_ASC",
        "SORT_ORDER_DESC"
      ],
      "default": "SORT_ORDER_UNSPECIFIED",
      "description": "- SORT_ORDER_UNSPECIFIED: 未指定\n - SORT_ORDER_ASC: 升序\n - SORT_ORDER_DESC: 降序",
      "title": "=============================================================================\nSortOrder - 排序方向\n============================================================================="
    }
  }
}
