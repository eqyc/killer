# =============================================================================
# KILLER ERP - 最小化环境
# =============================================================================
#
# 仅包含开发单个微服务所需的最小依赖。
# 适用于资源受限的开发环境或快速启动场景。
#
# 使用方式:
#   docker compose -f docker-compose.minimal.yml up -d
#
# =============================================================================

# =============================================================================
# 应包含的服务
# =============================================================================

# -----------------------------------------------------------------------------
# PostgreSQL (单实例)
# -----------------------------------------------------------------------------
# 服务名: postgres
# 镜像: postgres:16-alpine
# 端口: 5432:5432
# 资源限制:
#   - memory: 256M
#   - cpus: '0.5'
# 环境变量:
#   - POSTGRES_USER=killer
#   - POSTGRES_PASSWORD=killer_dev
#   - POSTGRES_DB=killer_dev
# 数据卷: 可选 (开发环境可不持久化)

# -----------------------------------------------------------------------------
# Redis (单实例)
# -----------------------------------------------------------------------------
# 服务名: redis
# 镜像: redis:7-alpine
# 端口: 6379:6379
# 资源限制:
#   - memory: 128M
#   - cpus: '0.25'
# 命令: redis-server --maxmemory 64mb --maxmemory-policy allkeys-lru

# -----------------------------------------------------------------------------
# Redpanda (轻量级 Kafka 替代)
# -----------------------------------------------------------------------------
# 服务名: redpanda
# 镜像: redpandadata/redpanda:latest
# 端口:
#   - 9092:9092 (Kafka API)
#   - 8081:8081 (Schema Registry)
#   - 8082:8082 (REST Proxy)
# 资源限制:
#   - memory: 512M
#   - cpus: '1'
# 命令: |
#   redpanda start
#   --smp 1
#   --memory 256M
#   --overprovisioned
#   --kafka-addr 0.0.0.0:9092
#   --advertise-kafka-addr localhost:9092

# =============================================================================
# 可选服务 (按需启用)
# =============================================================================

# -----------------------------------------------------------------------------
# MinIO (开发用对象存储)
# -----------------------------------------------------------------------------
# 服务名: minio
# profiles: ["storage"]
# 镜像: minio/minio:latest
# 端口: 9000:9000, 9001:9001
# 资源限制:
#   - memory: 256M

# -----------------------------------------------------------------------------
# MailHog (邮件测试)
# -----------------------------------------------------------------------------
# 服务名: mailhog
# profiles: ["mail"]
# 镜像: mailhog/mailhog:latest
# 端口: 1025:1025, 8025:8025

# =============================================================================
# 网络配置
# =============================================================================
# 网络名: killer-minimal
# 驱动: bridge

# =============================================================================
# 资源总计
# =============================================================================
# 最小配置约需:
#   - 内存: ~1GB
#   - CPU: 2 cores
#
# 对比完整环境:
#   - 内存: ~8GB
#   - CPU: 4+ cores

# TODO: 实现完整的 docker-compose 配置
