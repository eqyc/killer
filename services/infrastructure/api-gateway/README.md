# API Gateway

统一 API 网关服务，作为所有外部请求的入口点。负责请求路由、身份认证、限流熔断、协议转换等横切关注点。

## 服务职责

| 功能 | 说明 |
|------|------|
| 路由 | 请求路由到后端服务 |
| 认证 | JWT 验证、OAuth2 集成 |
| 限流 | 基于令牌桶的限流 |
| 熔断 | 后端服务故障隔离 |
| 协议转换 | HTTP/gRPC 互转 |
| 日志 | 请求/响应日志记录 |

## 核心组件

| 组件 | 说明 |
|------|------|
| `Router` | 路由规则引擎 |
| `AuthMiddleware` | 认证中间件 |
| `RateLimiter` | 限流器 |
| `CircuitBreaker` | 熔断器 |
| `LoadBalancer` | 负载均衡 |

## 依赖的主数据

| 主数据 | 来源 | 用途 |
|--------|------|------|
| `Route` | 配置 | 路由规则 |
| `ApiKey` | identity-iam | API 密钥验证 |

## 端口配置

| 端口 | 用途 |
|------|------|
| 8080 | HTTP 入口 |
| 8443 | HTTPS 入口 |
| 9090 | Prometheus Metrics |
