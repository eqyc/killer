// 文件路径: common/v1/pagination.proto
// =============================================================================
// KILLER ERP - 分页定义
// =============================================================================
//
// 定义标准化的分页请求和响应格式。
// 支持基于偏移量和基于游标两种分页方式。
//
// =============================================================================

syntax = "proto3";

package killer.common.v1;

option java_multiple_files = true;
option java_package = "com.killer.common.v1";

// =============================================================================
// SortOrder - 排序方向
// =============================================================================
enum SortOrder {
  // 未指定
  SORT_ORDER_UNSPECIFIED = 0;
  // 升序
  SORT_ORDER_ASC = 1;
  // 降序
  SORT_ORDER_DESC = 2;
}

// =============================================================================
// Direction - 游标方向
// =============================================================================
enum Direction {
  // 未指定
  DIRECTION_UNSPECIFIED = 0;
  // 向后（下一页）
  DIRECTION_FORWARD = 1;
  // 向前（上一页）
  DIRECTION_BACKWARD = 2;
}

// =============================================================================
// PageRequest - 分页请求（偏移量方式）
// =============================================================================
message PageRequest {
  // 页码（从1开始）
  int32 page_number = 1;
  // 每页大小（默认20，最大100）
  int32 page_size = 2;
  // 排序字段名
  string sort_by = 3;
  // 排序方向
  SortOrder sort_order = 4;
}

// =============================================================================
// PageInfo - 分页信息
// =============================================================================
message PageInfo {
  // 总记录数
  int32 total_count = 1;
  // 总页数
  int32 total_pages = 2;
  // 当前页码
  int32 current_page = 3;
  // 每页大小
  int32 page_size = 4;
  // 是否有下一页
  bool has_next = 5;
  // 是否有上一页
  bool has_previous = 6;
}

// =============================================================================
// CursorRequest - 游标分页请求
// =============================================================================
message CursorRequest {
  // 游标（上一页最后一条记录的ID）
  string cursor = 1;
  // 获取数量
  int32 limit = 2;
  // 分页方向
  Direction direction = 3;
}

// =============================================================================
// CursorInfo - 游标分页信息
// =============================================================================
message CursorInfo {
  // 下一页游标
  string next_cursor = 1;
  // 上一页游标
  string prev_cursor = 2;
  // 是否还有更多数据
  bool has_more = 3;
}
