// 文件路径: common/v1/types.proto
// =============================================================================
// KILLER ERP - 通用类型定义
// =============================================================================
//
// 本文件定义跨服务共享的通用消息类型。
// 所有业务域的 proto 文件应导入此文件以复用这些类型。
//
// =============================================================================

syntax = "proto3";

package killer.common.v1;

option java_multiple_files = true;
option java_package = "com.killer.common.v1";

import "google/protobuf/timestamp.proto";

// =============================================================================
// Money - 货币金额
// =============================================================================
// 对应ERP字段: WRBTR/DMBTR/NETWR等金额字段
// 使用string避免浮点精度问题，符合财务计算要求
message Money {
  // ISO 4217 货币代码 (CNY, USD, EUR)，对应WAERS字段
  string currency_code = 1;
  // 金额值，使用字符串表示以保持精度
  string amount = 2;
  // 小数位数
  int32 scale = 3;
}

// =============================================================================
// Quantity - 数量
// =============================================================================
// 对应ERP字段: MENGE/GAMNG/LFIMG等数量字段
message Quantity {
  // 数量值
  string value = 1;
  // 计量单位，对应MEINS/VRKME等单位字段
  string unit = 2;
}

// =============================================================================
// Address - 地址
// =============================================================================
// 对应ERP地址表ADRC相关字段
message Address {
  // 国家代码，对应LAND1
  string country_code = 1;
  // 省/州，对应REGIO
  string province = 2;
  // 城市，对应ORT01
  string city = 3;
  // 区/县，对应ORT02
  string district = 4;
  // 街道地址，对应STRAS
  string street = 5;
  // 邮政编码，对应PSTLZ
  string postal_code = 6;
}

// =============================================================================
// ContactInfo - 联系信息
// =============================================================================
// 对应ERP通讯数据ADR*表相关字段
message ContactInfo {
  // 联系人姓名，对应NAME1
  string name = 1;
  // 电话号码，对应TELF1
  string phone = 2;
  // 电子邮箱，对应SMTP_ADDR
  string email = 3;
  // 传真号码，对应TELFX
  string fax = 4;
}

// =============================================================================
// DateRange - 日期范围
// =============================================================================
// 对应ERP日期范围字段如BEGDA/ENDDA
message DateRange {
  // 开始日期
  google.protobuf.Timestamp start_date = 1;
  // 结束日期
  google.protobuf.Timestamp end_date = 2;
}

// =============================================================================
// Period - 会计期间
// =============================================================================
// 对应ERP字段: GJAHR/MONAT/PERIO
message Period {
  // 会计年度，对应GJAHR
  int32 fiscal_year = 1;
  // 期间 (1-12 或 1-16)，对应MONAT/PERIO
  int32 period = 2;
}

// =============================================================================
// AuditInfo - 审计信息
// =============================================================================
// 对应ERP变更文档表CDHDR/CDPOS相关字段
message AuditInfo {
  // 创建人，对应ERNAM/USNAM
  string created_by = 1;
  // 创建时间，对应ERDAT/ERTIM
  google.protobuf.Timestamp created_at = 2;
  // 最后修改人，对应AENAM
  string updated_by = 3;
  // 最后修改时间，对应AEDAT/AETIM
  google.protobuf.Timestamp updated_at = 4;
}

// =============================================================================
// Attachment - 附件
// =============================================================================
// 对应DMS文档管理相关表
message Attachment {
  // 附件唯一标识
  string id = 1;
  // 文件名
  string file_name = 2;
  // MIME类型
  string content_type = 3;
  // 文件大小（字节）
  int64 size_bytes = 4;
  // 下载URL
  string url = 5;
}
