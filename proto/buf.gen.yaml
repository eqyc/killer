# =============================================================================
# Buf 代码生成配置
# https://buf.build/docs/configuration/v2/buf-gen-yaml
# =============================================================================

version: v2

plugins:

  # Prost - Protocol Buffers 消息类型生成
  - local: protoc-gen-prost
    out: ../libs/integration/api-contracts/src/gen
    opt:
      - compile_well_known_types
      - extern_path=.google.protobuf=::prost_types

  # Tonic - gRPC 服务代码生成
  - local: protoc-gen-tonic
    out: ../libs/integration/api-contracts/src/gen
    opt:
      - compile_well_known_types
      - extern_path=.google.protobuf=::prost_types

inputs:
  - directory: .
